# 数据类型

> 数据(Data)、数据元素(DateElement)、数据项(DataItem)、数据对象(DataObject)：
>
> 一棵树是一个数据对象，上面的结点是数据项，结点的属性是数据元素

+ 数据类型(DataType)：值的**集合**和定义在其上的一组**操作**的**总称**
  + 值    ：
  + 操作：运算符

## 原子类型

### 数字

+ 将数值类型转换为字符串：`str(数字)`：返回字符串

#### 整数

#### 浮点数

#### 运算符

+ 使用括号（`()`）修改运算次序

+ 算术运算符：加（`+`）减（`-`）乘（`*`）除(**数学除**)（`/`）

  + 截断除（`//`）

    > python2中单个除号表示为截断除

  + 乘方（`**`）：`基数 ** 指数`

  + 取模（`%`）

+ 比较运算符：符合为真(`True`)，不符合为假(`False`)（首字母大写）

  + 比较：`< <= > >=`
  + 相等：双等号：`==` / 不相等：`!=`

  > pythonic：连续比较

### 字符串

+ 定义：引号（单引号或双引号）包含的一个或多个字符

+ 操作：

  + 拼接：`+`号连接

  + 切片：方法：`split(按什么分隔='')`：返回列表

  + 其他方法：

  + | 方法名                              | 功能                                     |
    | ----------------------------------- | ---------------------------------------- |
    | `title()`                           | 将每个单词首字母大写                     |
    | `upper()`<br>`lower()`              | 字母转换                                 |
    | `strip()`<br>`lstrip`<br>`ritrip()` | 删除两端空白<br>删除首空白<br>删除尾空白 |
    | `replace(串1, 串2)`                 | 将字符串中string1替换为string2           |
    | `count(字符串)`                     | 串中这个串出现多少次                     |

+ 空白泛指任何非打印字符，比如空格、制表符和换行符

  + 空格：`[space]`
  + 制表：`\t`
  + 换行：`\n`

## 结构类型

### 列表

+ 概念：一系列（可空）特定顺序排列的元素

+ 命名：使用单词复数的命名方式

+ 表示：方括号（`[]`）表示，并用逗号来分隔其中的元素

+ 操作：

  + 生成列表：列表解析：`列表 = [表达式 for循环]`

  + 获取长度：函数：`len(列表)`

  + 访问：使用方括号通过索引：

    1. 索引从**0**开始
    2. 可采用**负数**从**末尾**开始索引：不能超过数组长度，不会智能到自动循环

    + 切片：`列表[起点=0:超尾=len(列表名):步长=1]`：返回一个临时列表 

      + 可使用负值索引

        > 本质是从begin到end，无论什么表示法，如果end的位置比begin小，则返回空列表

      + 切片可用于列表复制：

        > 列表的直接赋值是将两个列表相关联

  + 修改：直接赋值

  + 增加：

    + 追加：方法：`append(元素)`
    + 插入：方法：`insert(索引, 元素)`：其后后推

  + 删除：

    + 语句：`del`：后接`列表[索引数]`

    + 方法：弹出：`pop(索引=-1)`：返回末尾元素并删除

    + 方法：按值删除：`remove(值)`：返回并删除**第一个**该值的元素（不存在则报错）

      > 全部删除：`while value in lists : lists.remove(value)`

  + 排序：

    1. 方法：`sort()`永久性排序
       + 逆序：通过向方法传参`列表.sort(revese = True)`
    2. 函数：`sorted(列表名)`临时性排序
       + 逆序：同理

    ![](https://cdn.jsdelivr.net/gh/zweix123/CS-notes@master/source/Programing-Language/Python/python_yyds.png)

  + 反转：方法：`reverse()`

  + 数学函数：

    + `min(列表)`
    + `max(列表)`
    + `sum(列表)`

+ ***集合***：函数：`set(列表)`：返回没有重复值的列表

+ ***元组***：不可变的列表（内容不可修改，但元组变量可以改变存储的元组）

  + 语法：小括号（`()`）括起来的一系列的元素，逗号分隔

### 字典

+ 定义：一系列的键-值对（可空），可通过键来访问与之对应相关联的值

+ 语法：用**大括号**（`{}`）括起来，键值之间用冒号分隔，键-值对之间用逗号分隔：`字典 = {key : value, ...}`

+ 访问：依次指定字典名和放在方括号内的键：`字典[key]`：返回与键相关联的值

+ 添加：`字典[新键] = 对应的值`（需要该字典已经定义过）

+ 删除：`del`语句：`del 字典[key]`

+ 遍历：通过方法**返回列表**

  ```python
  for key, value in 字典.item()
  for key in 字典.keys()
  for value in 字典.values()
  ```

+ 其他方法：

  + `get(key, defalut=0)`：返回value

+ 含义：

  + 表示一个对象的各个方面值
  + 表示多个对象的一个方面值
    + 格式：换行缩进，**最后仍可留逗号**，结尾大括号仍缩进

# 语法

+ 注释：井号`#`其后内容被Python解释器忽略
+ 代码块：相对于前一句相关关键字语句后**缩进**的**一系列**的语句

## 循环分支

### for循环

1. 列表循环：

   ```python
   for item in list_of_items:
       操作item
   循环之后的操作，即循环外的代码，以缩进划分代码块
   ```

   + **有个冒号**
   + `item`是值复制，不是引用复制
   + `item`将在程序中一直存在，保存最后存储的值

2. 数值循环：通过函数：`range(起点 = 0, 超尾, 步长 = 1)`

   + 创造数字列表：`列表名 = list(range(...))`


+ `for...else`：

  ```python
  for ...:
      if ...:
          break
      oabaoab
  else:
      break后的操作，如果没有break则不做
  ```

### if分支

1. ```python
   if conditional_test :
       do something
   ```

2. ```python
   if conditional_test :
       do something
   else :
       操作2
   ```

3. ```python
   if 条件测试表达式1:
       操作1
   elif 条件测试表达式2:
       操作2
   ...
   （
   else 。。。:
       ...
   ）
   ```

+ **有个冒号**
+ 条件测试表达式：使用比较运算符：返回真值
+ 多个条件：并（`and`）和或（`or`）可用括号分隔
+ 列表中检查特定值：`if 特定值 in 列表`对应`not in`
+ 当表达式是列表名时，判断其是否为空，空为`True`

### while循环

+ 语法：

  ```python
  while 表达式:
      操作
  ```

+ 跳转：

  + `break`跳出循环
  + `continue`跳过此次循环

## 方法/函数

+ 魔术方法(magic method)：特殊方法的昵称

  > 读法：双下-函数名(dunder-)，所以特殊方法也叫双下方法

+ 函数定义：

  ```python
  def 函数名(参数列表):
      """文本字符串，可多行"""  #生成文档：在代码块开头以三个括号括起来的主食
      函数体
  ```

+ 参数：可以是任何值和任何对象（python太高级了）

  1. 实参：函数定义中要求的参数
  2. 形参：调用语句中提供的参数

  + 位置参数    ：以形参顺序提供参数

    关键字参数：每个参数由变量名和值组成：`参数 = 其值`：可不按顺序

  + 默认值：定义中：`参数 = 默认值`：只能从右到左

  + 传递列表：

    1. 关联：传递列表名
    2. 副本：传递列表切片

    > 效率不一样

  + 多参数：

    1. 星号加变量：创建一个新空元组       ——任意位置多数量参数
    2. 两个星号加变量：创建一个新空字典——任意关键字多数量参数

+ 返回值：同样智能：但是要程序员负责

  + 语法：函数体中`return 返回值`
  + 无返回为`None`
  
+ 列表参数：可修改列列表

### IO

+ `print()`：输出字符串（值也是字符串，但是不能直接拼接，需要`str(number)`将其转换为字符串）：自动添加回车
  + 格式：长字符串可以通过拼接，拼接表达式可以多行：”字符串 + “为一行，末尾后接右括号
  + 格式化字符串：`"内容%d内容%f内容"%int,float" `：对应关系如C，记得中间的%
  + 不自动添加回车：`print(..., end = '')`
+ `input(用户提示字符串（不添加回车） = "")`：让程序暂停运行，等待用户输入一些文本：返回字符串
  + `int(字符串)`：返回对应数字类型

#### 文件IO

+ 函数`open()`和方法`close()`：打开和关闭文件

  + 打开：`open(文件字符串, 操作模式 = 'r')`：**返回**一个文件对象（句柄）

    + 文件字符串：绝对路径：注意win中使用`\`，要双写

      ​                       相对路径：`.`表示程序所在的文件的绝对路径/直接写文件名表示和程序在同一文件下的文件

      ​                                          `..`表示程序所在文件所在的绝对路径。

    + 打开模式：r读；w写（无则创立，会清空）；a附加续写；二进制写；r+又读又写

  + 关闭：`文件对象.close()`

    + 关键字`with`：不需要显式的close文件

      ```python
      with open(...) as file_object:
          操作file_object
      ```

      > 使用close可能出现程序中途终止或忘记使用而没有执行close()语句

+ 文件操作：

  + `read()`方法：返回文件所有内容的字符串
  + `readlines()`方法：返回文件各行内容的列表
  + `write(字符串)`方法：不会提供回车

## 类

+ 类：

  ```python
  class ClassName() :  #类里是空，之后定义
      """这是一个类"""
      
      def __init__(self, ...其他属性):  #方法__init()__，前后两个下划线，是必须的，参数self也是必须的
          """初始化属性"""
          self.属性 = 属性
          ...
      ...其他方法
  ```

  + 命名： 驼峰命名法

  + 方法`__init()__`：必须的：特殊的方法，创建类时自动调用

    > 类中的函数称为***方法***

    + 参数`self`：必须的：特殊的实参，在调用时**自动**传入：是指向实例本身的引用，让实例能够访问类中的属性和方法

    方法中的变量前缀`self.`，使其可以通过实例访问

    > 可通过实例访问的变量称为***属性***

    方法没有`return`语句，但是自动返回一个类的实例

    + 为属性提供默认值，即在方法中给属性赋值，但是其对应的参数没有出现在列表中

  > python2.7中是这样的格式：
  >
  > ```python
  > class ClassName(object):
  >     --snip--
  > ```

+ 对象：根据类创建的***实例***：

  + 命名：以类对应的小写形式
  + 创建：`my_className = ClassName(除self之外的其他属性)`
  + 访问属性/调用方法：使用句点表示法——全是公有的

+ 继承：

  + 原有的类称为***父类***，而新类称为***子类***：子类用于其父类的所有属性和方法，同时还定义自己的属性和方法

  + 语法：

    ```python
    class BaseName() :
        --snip--
    class DerivedName(BaseName):  #定义子类在括号中包含父类
        """派生类"""
        
        def __init__(self, 各种属性):
            super().__init__(父类的属性)  #通过super()函数访问父类
            自己的属性
    ```

    + 创建子类前，父类代码必须包含在当前文件中， 且位于子类前面

    + 定义子类在括号内指定父类的方法

    + `super()`函数将父类和子类关联起来，使子类可以访问父类

      > 父类也称*超类*(superclass)

    > python2.7中的继承：
    >
    > ```python
    > class DerivedName(BaseName):
    >     def __init__(self, ...):
    >         super(DerivedName, self).__init__()
    > ```

  + 新属性和方法：
  + 重写：直接定义同名方法

+ 包含/组合：

## 异常

+ 异常类：

+ 处理语法：`try-except`代码块

  ```python
  try:
      可能出现异常的代码块
  except 对应异常类:
      怎么处理
  ```

  + `else`代码块：接在后面表示无事发生则运行的代码
  + `pass`语句：什么也不要做

## 模块

+ 本质：单独文件

+ 创建模块：扩展名为`.py`的文件，同时在当前目录下创建`__init__.py`文件

+ *导入*模块：`import`语句

  + 导入模块：`import 文件名`：通过`文件名.函数名()`使用函数
  + 导入部分：`from 文件 import 函数`：多函数用逗号分隔
  + 指定别名：
    + 为函数指定别名：`from 文件 import 函数 as 别名`
    + 为模块指定别名：`from 文件 as 别名`：通过`别名.函数(...)`使用

  >```python
  >from module_name import function_name as fn
  >from module_name import mn
  >```

  + 导入全部：`from 文件 import *`：直接使用模块内函数
  + 导入类：`from 文件 import 类名`：若干类则以逗号分隔
    + 导入文件使用句点表示法使用
    + 导入所有

  > 要注意导入名称的冲突，文件名虽然使用时需要句点表示法麻烦，但是导入具体功能可能会出现名称冲突

+ 模块的下载：通过`pip`

  + 查看：`python -m pip 模块 --version`
  + 下载：`pip install 模块名`

+ Python标准库：

  > (Python Module of the Week)[http://pymotw.com/]

  + `colllections.OrderedDict`：有序字典
  + `random.radint(范围l, 范围r)`：返回随机数