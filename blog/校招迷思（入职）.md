## 读代码

了解一个系统的切入点是什么？

输入和输出。

+ 输入输出是系统和外界交互的接口，业务逻辑必然通过接口体现。
+ 通过接口可以接触尽可能多的上下游，以对系统有一个更全面的认识。
+ 就我个人而言，了解接口与调用链路更有利于对业务逻辑有一个更“直觉性”的认识。

所以首先整理一个全局调用链路图（横向梳理），以微服务名为节点，以接口为入边，将组内各微服务以及上下游串联起来。

下一步，还需要什么？

对一个微服务进行深挖。

+ 理想情况，每个微服务，在结构方面应该是对称的，即文件结构、所用库（服务端、客户端框架、中间件，可观测行工具等）应该是统一的。将一个微服务吃透之后，对于其他微服务在技术方面大概率也没有问题。此时的瓶颈才变成了解各个微服务的业务逻辑。

所以之后针对一个微服务，进行全面的代码梳理（纵向梳理）。

最后，梳理业务。
>实际上，代码梳理几乎不能避开业务，因为业务在代码中的体现就是逻辑嘛，而进行代码梳理肯定不能避开逻辑。

虽然上面使用“首先”、“下一步”、“之后”、“最后”这些字眼，但是并非完全串行，比如上面提到的业务与代码梳理，再比如在横向梳理时必然要看一下微服务都有哪些接口，此时就要进入代码中看一下服务端框架是怎么样的，这应该是纵向梳理的内容。所以上面三个事情是并行的。

+ 梳理技巧：首先从系统的边界出发，比如部门内部各微服务的最上游或者最下游，在每个系统中则是接口或对下游的包装。
